<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Registro Malinoise</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">    <div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-bold mb-4">Debug - Formulario de Registro</h2>
        
        <!-- Simulaci√≥n de tabs como en la app principal -->
        <div class="flex justify-center mb-6 border-b border-gray-200">
            <button onclick="showLogin()" class="px-4 py-2 text-sm font-semibold border-b-2 border-transparent hover:border-blue-600" id="loginTab">Login</button>
            <button onclick="showRegister()" class="px-4 py-2 text-sm font-semibold border-b-2 border-blue-600" id="registerTab">Registro</button>
        </div>
        
        <!-- Formulario de Login (oculto) -->
        <div id="loginForm" class="hidden space-y-4">
            <h3 class="text-lg font-semibold">Iniciar Sesi√≥n</h3>
            <input type="email" placeholder="Email" class="w-full p-3 border rounded-lg">
            <input type="password" placeholder="Contrase√±a" class="w-full p-3 border rounded-lg">
            <button class="w-full bg-green-600 text-white p-3 rounded-lg">Login</button>
        </div>
        
        <!-- Formulario de Registro -->
        <div id="registerForm" class="space-y-4">
            <h3 class="text-lg font-semibold">Registrarse</h3>
            <input type="text" placeholder="Nombre Completo" class="w-full p-3 border rounded-lg" id="registerName">
            <input type="email" placeholder="Correo Electr√≥nico" class="w-full p-3 border rounded-lg" id="registerEmail">
            <input type="password" placeholder="Contrase√±a" class="w-full p-3 border rounded-lg" id="registerPassword">
            <input type="password" placeholder="Confirmar Contrase√±a" class="w-full p-3 border rounded-lg" id="confirmPassword">
            
            <button onclick="testRegistration()" class="w-full bg-blue-600 text-white p-3 rounded-lg">
                Registrarse
            </button>
        </div>
        
        <div id="result" class="mt-4 p-3 border rounded hidden"></div>
    </div>    <script>
        // Funciones de navegaci√≥n entre tabs
        function showLogin() {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('loginTab').classList.add('border-blue-600');
            document.getElementById('registerTab').classList.remove('border-blue-600');
        }
        
        function showRegister() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
            document.getElementById('loginTab').classList.remove('border-blue-600');
            document.getElementById('registerTab').classList.add('border-blue-600');
        }
        
        function testRegistration() {
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            const result = document.getElementById('result');
            result.classList.remove('hidden');
            
            console.log('=== DEBUG REGISTRO ===');
            console.log('Formulario visible:', !document.getElementById('registerForm').classList.contains('hidden'));
            console.log('Elemento nombre encontrado:', document.getElementById('registerName') !== null);
            console.log('Valor original (sin trim):', `"${document.getElementById('registerName').value}"`);
            console.log('Valor despu√©s de trim:', `"${name}"`);
            console.log('Longitud del nombre:', name.length);
            console.log('Email:', `"${email}"`);
            console.log('Contrase√±a:', password ? '[PRESENTE]' : '[VAC√çA]');
            console.log('Confirmar:', confirmPassword ? '[PRESENTE]' : '[VAC√çA]');
            
            let messages = [];
            
            // Simulaci√≥n exacta de las validaciones de la app principal
            if (!name || !email || !password || !confirmPassword) {
                messages.push('‚ùå Por favor, completa todos los campos.');
                if (!name) messages.push('  - Nombre est√° vac√≠o o solo espacios');
                if (!email) messages.push('  - Email est√° vac√≠o');
                if (!password) messages.push('  - Contrase√±a est√° vac√≠a');
                if (!confirmPassword) messages.push('  - Confirmar contrase√±a est√° vac√≠o');
                console.log('‚ùå Falla en validaci√≥n de campos completos');
                result.className = 'mt-4 p-3 border rounded bg-red-100 text-red-800';
                result.innerHTML = messages.join('<br>');
                return;
            }
            
            if (name.length < 2) {
                messages.push('‚ùå El nombre debe tener al menos 2 caracteres.');
                console.log('‚ùå Falla en validaci√≥n de longitud del nombre');
                result.className = 'mt-4 p-3 border rounded bg-red-100 text-red-800';
                result.innerHTML = messages.join('<br>');
                return;
            }
            
            if (password.length < 6) {
                messages.push('‚ùå La contrase√±a debe tener al menos 6 caracteres.');
                result.className = 'mt-4 p-3 border rounded bg-red-100 text-red-800';
                result.innerHTML = messages.join('<br>');
                return;
            }
            
            if (password !== confirmPassword) {
                messages.push('‚ùå Las contrase√±as no coinciden.');
                result.className = 'mt-4 p-3 border rounded bg-red-100 text-red-800';
                result.innerHTML = messages.join('<br>');
                return;
            }
            
            // Si llega aqu√≠, todas las validaciones pasaron
            messages.push('‚úÖ Todas las validaciones del cliente pasaron correctamente');
            messages.push(`‚úÖ Nombre: "${name}" (${name.length} caracteres)`);
            messages.push(`‚úÖ Email: "${email}"`);
            messages.push('‚úÖ Contrase√±as coinciden y son v√°lidas');
            messages.push('üöÄ Se proceder√≠a a llamar la API de registro');
            
            console.log('‚úÖ Todas las validaciones pasaron - llamar√≠a a la API');
            result.className = 'mt-4 p-3 border rounded bg-green-100 text-green-800';
            result.innerHTML = messages.join('<br>');
        }
    </script>
</body>
</html>
